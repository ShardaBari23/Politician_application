<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Dashboard</title>
  <link rel="stylesheet" href="admin.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<header class="header">
  <div>
    <h2>ğŸ—³ï¸ Admin Dashboard</h2>
    <span>Upload â€¢ View â€¢ Search â€¢ Analytics</span>
  </div>
  <button class="logout" onclick="logout()">Logout</button>
</header>

<nav class="tabs">
  <button class="active" onclick="openTab(event,'upload')">ğŸ“¤ Upload Excel</button>
  <button onclick="openTab(event,'voters')">ğŸ“‹ View Voters</button>
  <button onclick="openTab(event,'graphs')">ğŸ“Š Analytics</button>
</nav>

<!-- ===== UPLOAD ===== -->
<section id="upload" class="tab active">
  <div class="card">
    <h3>Upload Voter Excel</h3>
    <input type="file" id="excelFile">
    <button class="primary" onclick="uploadExcel()">Upload</button>
    <p id="uploadMsg"></p>
  </div>
</section>

<!-- ===== VOTERS ===== -->
<section id="voters" class="tab">
  <div class="card">
    <h3>ğŸ” Search Voter</h3>
    <input type="text" id="searchInput"
      placeholder="Search by Name / Mobile / EPIC"
      onkeyup="searchVoter()">
  </div>

  <div class="card">
    <h3>ğŸ“„ Voter List</h3>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Gender</th>
          <th>Age</th>
          <th>Mobile</th>
          <th>House</th>
          <th>EPIC</th>
        </tr>
      </thead>
      <tbody id="voterTable"></tbody>
    </table>

    <div style="text-align:center; margin-top:20px;">
      <button id="loadMoreBtn" onclick="loadMoreVoters()">Load More</button>
    </div>
  </div>
</section>

<!-- ===== ANALYTICS ===== -->
<section id="graphs" class="tab">
  <div class="grid">

    <div class="card">
      <h3>Gender Distribution</h3>
      <canvas id="genderChart"></canvas>
    </div>

    <div class="card">
      <h3>Age Group Distribution</h3>
      <canvas id="ageChart"></canvas>
    </div>

    <div class="card full">
      <h3>Top 10 Surnames</h3>
      <canvas id="surnameChart"></canvas>

      <table class="mini-table">
        <thead>
          <tr>
            <th>#</th>
            <th>Surname</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody id="surnameTable"></tbody>
      </table>
    </div>

  </div>
</section>

<script src="admin.js"></script>
</body>
</html>
